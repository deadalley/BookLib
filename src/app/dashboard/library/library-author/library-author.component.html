<loading [visible]="isLoading"></loading>
<page-navigator *ngIf="!isLoading">
  <div class="card" [@card]>
    <div class="header">
      <h4 class="title">{{author.name}}</h4>
    </div>
    <div class="content">
      <div class="row">
        <div class="col-md-6">
          <div class="image author-photo">
            <img
              [src]="author.image_large ? author.image_large : (author.image_small ? author.image_small : '/assets/img/no-book-cover.png')"
              alt="Author photo"
            >
          </div>
        </div>
        <div class="col-md-6">
          <label>About:</label>
          <p [innerHTML]="author.about"></p>
        </div>
      </div>
      <books-section
        [sectionTitle]="'Books'"
        [books]="author.books.slice(0,4)"
        [selectable]="true"
        [selectBtnContent]="'Add to library'"
        [selectBtnContentDisabled]="'Already in library'"
        (selectedBooks)="updateSelectedBooks($event)"
      ></books-section>
      <div class="row">
        <div class="col-xs-12">
          <a href="#displayBooks" data-toggle="collapse">
            <label style="padding:0;">Display all books </label>
            <i class="pe-7s-angle-down" style="font-size: 1.3em;"></i>
          </a>
          <hr style="margin-top: 0;">
        </div>
      </div>
      <div class="collapse" id="displayBooks">
        <books-section
          [books]="author.books.slice(4)"
          [selectable]="true"
          [selectBtnContent]="'Add to library'"
          [selectBtnContentDisabled]="'Already in library'"
          (selectedBooks)="updateSelectedBooks($event)"
        ></books-section>
      </div>
      <hr>
      <div style="text-align: center;">
        <button
          type="button"
          class="btn btn-default"
          (click)="importBooks()"
          [disabled]="!hasSelectedBooks"
        >Import books to your library</button>
      </div>
    </div>
  </div>
</page-navigator>
