<loading [visible]="isLoading"></loading>
<page-navigator *ngIf="!isLoading">
  <div class="card" style="text-align: center" [@card]>
    <div class="header">
      <h4 class="title">
        We couldn't find this author
      </h4>
      <hr>
        <p class="category" placement="bottom" style="padding-bottom: 10px">
          Unfortunately, we couldn't find any information on this author.
          Here are some suggestions from Goodreads.
          You can choose one of the authors below and then choose which books you'd like to associate this author to.
        </p>
    </div>
    <div class="content">
      <hr>
      <div class="row">
        <div class="col-xs-12">
          <ng-container *ngFor="let author of authors; let i = index;">
            <div class="clearfix" *ngIf="i % 4 == 0"></div>
            <div class="col-md-3">
              <author-card
                [author]="author"
                (selected)="selectAuthor($event)"
              ></author-card>
            </div>
          </ng-container>
        </div>
      </div>
      <div *ngIf="selectedAuthor" class="row" style="text-align: left">
        <div class="col-xs-12">
          <h5>Select books associated to {{selectedAuthor.name}}</h5>
          <hr>
        </div>
        <div class="col-xs-12">
          <books-section
            [selectable]="true"
            [selectBtnContent]="'Select'"
            (selectedBooks)="updateSelectedBooks($event)"
            [books]="books"
          >
          </books-section>
        </div>
        <div class="col-xs-12" style="text-align: center;">
          <hr>
          <button
            type="button"
            class="btn btn-default"
            (click)="updateBooks()"
            [disabled]="!hasSelectedBooks"
          >Associate books</button>
        </div>
      </div>
    </div>
  </div>
</page-navigator>
